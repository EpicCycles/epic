{% extends 'epic/base.html' %}
{% block content %}
<h2>Quotes</h2>
<form action="" method="get">
    <h3>Filter values:</h3>
    <table>
        <tr>
            <th>
                <label for="id_search_quote_desc">Quote Description like:</label>
            </th>
            <td>
                <input id="id_search_quote_desc" name="search_quote_desc" type="text" value="{{ search_quote_desc }}" />
            </td>
        </tr>

    </table>
    {{ form.as_table }}
    <input type="submit" value="search" />
</form>
<hr/>
{% if quote_list %}
<table>
    <tr>
        <th>Customer</th>
        <th>Quote Description</th>
        <th>Bike</th>
        <th>Date Created</th>
        <th>Quote Total</th>
        <th></th>
        <th></th>
    </tr>
    {% for quote in quote_list %}
    {% cycle 'row1' 'row2' as rowcolors silent %}
    <tr class="{{ rowcolors }}">
        <td>{{ quote.customer }}</td>
        <td>{{ quote }}</td>
        <td>{{ quote.frame }}</td>
        <td>{{ quote.created_date }}</td>
        <td>{{ quote.sell_price }}</td>
        <td>{%if quote.issuedDate == None %}<a href="{% url 'edit_quote' pk=quote.pk %}">edit</a>{% endif %}</td>
        <td><a href="{% url 'copy_quote' pk=quote.pk %}">copy</a></td>
    </tr>
    {% endfor %}
</table>

  {% if is_paginated %}
  <div class="pagination">
      <span class="page-links">
          {% if page_obj.has_previous %}
              <a href="?page={{ page_obj.previous_page_number }}"><<</a>
          {% endif %}
          <span class="page-current">
              Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}
          </span> {% if page_obj.has_next %}
      <a href="?page={{ page_obj.next_page_number }}">>></a> {% endif %}
      </span>
  </div>
  {% endif %}
{% else %}
<p>No quotes to view.</p>
{% endif %}
<a href="{% url 'add_quote' %}">Add a quote</a>
{% endblock %}
